\hypertarget{namespaceLibDataAUG}{}\doxysection{Lib\+Data\+AUG Namespace Reference}
\label{namespaceLibDataAUG}\index{LibDataAUG@{LibDataAUG}}


Module containing the routines to interact with the AUG database.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceLibDataAUG_ac8b1db62b9bcfb04a1ee58524be00af8}{get\+\_\+mag\+\_\+field}} (int shot, Rin, zin, str diag=\textquotesingle{}EQH\textquotesingle{}, str exp=\textquotesingle{}AUGD\textquotesingle{}, int ed=0, float tini\+EQU=None, float tend\+EQU=None, float time=None, equ=None)
\begin{DoxyCompactList}\small\item\em Wrapper to get AUG magnetic field. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespaceLibDataAUG_aacd4fb3b02e2a51bf150ecfa0a85fe4a}{plot\+\_\+vessel}} (ax, str projection=\textquotesingle{}poloidal\textquotesingle{}, dict line\+\_\+properties=\{\}, int nshot=30585)
\begin{DoxyCompactList}\small\item\em Plot AUG vessel. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Module containing the routines to interact with the AUG database. 

Contains all the necesary codes to interact with AUG database 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceLibDataAUG_ac8b1db62b9bcfb04a1ee58524be00af8}\label{namespaceLibDataAUG_ac8b1db62b9bcfb04a1ee58524be00af8}} 
\index{LibDataAUG@{LibDataAUG}!get\_mag\_field@{get\_mag\_field}}
\index{get\_mag\_field@{get\_mag\_field}!LibDataAUG@{LibDataAUG}}
\doxysubsubsection{\texorpdfstring{get\_mag\_field()}{get\_mag\_field()}}
{\footnotesize\ttfamily def Lib\+Data\+AUG.\+get\+\_\+mag\+\_\+field (\begin{DoxyParamCaption}\item[{int}]{shot,  }\item[{}]{Rin,  }\item[{}]{zin,  }\item[{str }]{diag = {\ttfamily \textquotesingle{}EQH\textquotesingle{}},  }\item[{str }]{exp = {\ttfamily \textquotesingle{}AUGD\textquotesingle{}},  }\item[{int }]{ed = {\ttfamily 0},  }\item[{float }]{tini\+EQU = {\ttfamily None},  }\item[{float }]{tend\+EQU = {\ttfamily None},  }\item[{float }]{time = {\ttfamily None},  }\item[{}]{equ = {\ttfamily None} }\end{DoxyParamCaption})}



Wrapper to get AUG magnetic field. 

Jose Rueda\+: \href{mailto:jose.rueda@ipp.mpg.de}{\texttt{ jose.\+rueda@ipp.\+mpg.\+de}}

Adapted from\+: \href{https://www.aug.ipp.mpg.de/aug/manuals/map_equ/}{\texttt{ https\+://www.\+aug.\+ipp.\+mpg.\+de/aug/manuals/map\+\_\+equ/}}


\begin{DoxyParams}{Parameters}
{\em shot} & Shot number \\
\hline
{\em Rin} & Array of R positions where to evaluate (in pairs with zin) \mbox{[}m\mbox{]} \\
\hline
{\em zin} & Array of z positions where to evaluate (in pairs with Rin) \mbox{[}m\mbox{]} \\
\hline
{\em diag} & Diag for AUG database, default EQH \\
\hline
{\em exp} & experiment, default AUGD \\
\hline
{\em ed} & edition, default 0 (last) \\
\hline
{\em tini\+EQU} & Initial time to load the equilibrium object, only valid if equ is not pass as input (in s) \\
\hline
{\em tend\+EQU} & End time to load the equilibrium object, only valid if equ is not pass as input (in s) \\
\hline
{\em time} & Array of times where we want to calculate the field (the field would be calculated in a time as close as possible to this \\
\hline
{\em equ} & equilibrium object of clas EQU (see \href{https://www.aug.ipp.mpg.de/aug/manuals/map_equ/equ/html/classsf2equ__20200525_1_1EQU.html}{\texttt{ https\+://www.\+aug.\+ipp.\+mpg.\+de/aug/manuals/map\+\_\+equ/equ/html/classsf2equ\+\_\+\+\_\+20200525\+\_\+1\+\_\+1\+EQU.\+html}}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
br\+: Radial magnetic field (nt, nrz\+\_\+in), \mbox{[}T\mbox{]} 

bz\+: z magnetic field (nt, nrz\+\_\+in), \mbox{[}T\mbox{]} 

bt\+: toroidal magnetic field (nt, nrz\+\_\+in), \mbox{[}T\mbox{]} 

bp\+: poloidal magnetic field (nt, nrz\+\_\+in), \mbox{[}T\mbox{]} 
\end{DoxyReturn}


Definition at line 24 of file Lib\+Data\+AUG.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{26                   time: float = \textcolor{keywordtype}{None}, equ=\textcolor{keywordtype}{None}):}
\DoxyCodeLine{27     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{28 \textcolor{stringliteral}{    Wrapper to get AUG magnetic field}}
\DoxyCodeLine{29 \textcolor{stringliteral}{}}
\DoxyCodeLine{30 \textcolor{stringliteral}{    Jose Rueda: jose.rueda@ipp.mpg.de}}
\DoxyCodeLine{31 \textcolor{stringliteral}{}}
\DoxyCodeLine{32 \textcolor{stringliteral}{    Adapted from: https://www.aug.ipp.mpg.de/aug/manuals/map\_equ/}}
\DoxyCodeLine{33 \textcolor{stringliteral}{}}
\DoxyCodeLine{34 \textcolor{stringliteral}{    @param shot: Shot number}}
\DoxyCodeLine{35 \textcolor{stringliteral}{    @param Rin: Array of R positions where to evaluate (in pairs with zin) [m]}}
\DoxyCodeLine{36 \textcolor{stringliteral}{    @param zin: Array of z positions where to evaluate (in pairs with Rin) [m]}}
\DoxyCodeLine{37 \textcolor{stringliteral}{    @param diag: Diag for AUG database, default EQH}}
\DoxyCodeLine{38 \textcolor{stringliteral}{    @param exp: experiment, default AUGD}}
\DoxyCodeLine{39 \textcolor{stringliteral}{    @param ed: edition, default 0 (last)}}
\DoxyCodeLine{40 \textcolor{stringliteral}{    @param tiniEQU: Initial time to load the equilibrium object, only valid}}
\DoxyCodeLine{41 \textcolor{stringliteral}{    if equ is not pass as input (in s)}}
\DoxyCodeLine{42 \textcolor{stringliteral}{    @param tendEQU: End time to load the equilibrium object, only valid if}}
\DoxyCodeLine{43 \textcolor{stringliteral}{    equ is not pass as input (in s)}}
\DoxyCodeLine{44 \textcolor{stringliteral}{    @param time: Array of times where we want to calculate the field (the}}
\DoxyCodeLine{45 \textcolor{stringliteral}{    field would be calculated in a time as close as possible to this}}
\DoxyCodeLine{46 \textcolor{stringliteral}{    @param equ: equilibrium object of clas EQU (see}}
\DoxyCodeLine{47 \textcolor{stringliteral}{    https://www.aug.ipp.mpg.de/aug/manuals/map\_equ/equ/html/classsf2equ\_\_20200525\_1\_1EQU.html)}}
\DoxyCodeLine{48 \textcolor{stringliteral}{    @return br: Radial magnetic field (nt, nrz\_in), [T]}}
\DoxyCodeLine{49 \textcolor{stringliteral}{    @return bz: z magnetic field (nt, nrz\_in), [T]}}
\DoxyCodeLine{50 \textcolor{stringliteral}{    @return bt: toroidal magnetic field (nt, nrz\_in), [T]}}
\DoxyCodeLine{51 \textcolor{stringliteral}{    @return bp: poloidal magnetic field (nt, nrz\_in), [T]}}
\DoxyCodeLine{52 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{53     \textcolor{comment}{\# If the equilibrium object is not an input, let create it}}
\DoxyCodeLine{54     \textcolor{keywordflow}{if} equ \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{55         equ = EQU(shot, diag=diag, exp=exp, ed = ed, tbeg=tiniEQU,}
\DoxyCodeLine{56                   tend=tendEQU)}
\DoxyCodeLine{57     \textcolor{comment}{\# If the equilibrium object is an input, check if the shot number is correct}}
\DoxyCodeLine{58     \textcolor{keywordflow}{else}:}
\DoxyCodeLine{59         \textcolor{keywordflow}{if} equ.shot != shot:}
\DoxyCodeLine{60             print(\textcolor{stringliteral}{'Shot number of the received equilibrium does not match!'})}
\DoxyCodeLine{61             br = 0}
\DoxyCodeLine{62             bz = 0}
\DoxyCodeLine{63             bt = 0}
\DoxyCodeLine{64             bp = 0}
\DoxyCodeLine{65             \textcolor{keywordflow}{return} br, bz, bt, bp}
\DoxyCodeLine{66     \textcolor{comment}{\# Now calculate the field}}
\DoxyCodeLine{67     br, bz, bt = meq.rz2brzt(equ, r\_in=Rin, z\_in=zin, t\_in=time)}
\DoxyCodeLine{68     bp = np.hypot(br, bz)}
\DoxyCodeLine{69     \textcolor{keywordflow}{return} br, bz, bt, bp}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 }

\end{DoxyCode}
\mbox{\Hypertarget{namespaceLibDataAUG_aacd4fb3b02e2a51bf150ecfa0a85fe4a}\label{namespaceLibDataAUG_aacd4fb3b02e2a51bf150ecfa0a85fe4a}} 
\index{LibDataAUG@{LibDataAUG}!plot\_vessel@{plot\_vessel}}
\index{plot\_vessel@{plot\_vessel}!LibDataAUG@{LibDataAUG}}
\doxysubsubsection{\texorpdfstring{plot\_vessel()}{plot\_vessel()}}
{\footnotesize\ttfamily def Lib\+Data\+AUG.\+plot\+\_\+vessel (\begin{DoxyParamCaption}\item[{}]{ax,  }\item[{str }]{projection = {\ttfamily \textquotesingle{}poloidal\textquotesingle{}},  }\item[{dict }]{line\+\_\+properties = {\ttfamily \{\}},  }\item[{int }]{nshot = {\ttfamily 30585} }\end{DoxyParamCaption})}



Plot AUG vessel. 

José Rueda Rueda

Poloidal plot of the vessel is directly extracted from IPP tutorial\+: \href{https://www.aug.ipp.mpg.de/aug/manuals/map_equ/}{\texttt{ https\+://www.\+aug.\+ipp.\+mpg.\+de/aug/manuals/map\+\_\+equ/}}


\begin{DoxyParams}{Parameters}
{\em ax} & axes where to plot \\
\hline
{\em projection} & \textquotesingle{}poloidal\textquotesingle{} or \textquotesingle{}toroidal\textquotesingle{} \\
\hline
{\em line\+\_\+properties} & dictionary with the argument for the function plot of matplat lib (example, color, linewidth...) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+: Vessel plotted in the selected axes 
\end{DoxyReturn}


Definition at line 72 of file Lib\+Data\+AUG.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{73                 nshot: int = 30585):}
\DoxyCodeLine{74     \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{75 \textcolor{stringliteral}{    Plot AUG vessel}}
\DoxyCodeLine{76 \textcolor{stringliteral}{}}
\DoxyCodeLine{77 \textcolor{stringliteral}{    José Rueda Rueda}}
\DoxyCodeLine{78 \textcolor{stringliteral}{}}
\DoxyCodeLine{79 \textcolor{stringliteral}{    Poloidal plot of the vessel is directly extracted from IPP tutorial:}}
\DoxyCodeLine{80 \textcolor{stringliteral}{    https://www.aug.ipp.mpg.de/aug/manuals/map\_equ/}}
\DoxyCodeLine{81 \textcolor{stringliteral}{}}
\DoxyCodeLine{82 \textcolor{stringliteral}{    @param ax: axes where to plot}}
\DoxyCodeLine{83 \textcolor{stringliteral}{    @param projection: 'poloidal' or 'toroidal'}}
\DoxyCodeLine{84 \textcolor{stringliteral}{    @param line\_properties: dictionary with the argument for the function}}
\DoxyCodeLine{85 \textcolor{stringliteral}{    plot of matplat lib (example, color, linewidth...)}}
\DoxyCodeLine{86 \textcolor{stringliteral}{    @return: Vessel plotted in the selected axes}}
\DoxyCodeLine{87 \textcolor{stringliteral}{    "{}"{}"{}}}
\DoxyCodeLine{88     }
\DoxyCodeLine{92     \textcolor{keywordflow}{if} \textcolor{stringliteral}{'color'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} line\_properties:}
\DoxyCodeLine{93         line\_properties[\textcolor{stringliteral}{'color'}] = \textcolor{stringliteral}{'k'}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     \textcolor{keywordflow}{if} projection == \textcolor{stringliteral}{'poloidal'}:}
\DoxyCodeLine{96         \textcolor{comment}{\# Get vessel coordinates}}
\DoxyCodeLine{97         gc\_r, gc\_z = get\_gc.get\_gc(nshot)}
\DoxyCodeLine{98         \textcolor{keywordflow}{for} key \textcolor{keywordflow}{in} gc\_r.keys():}
\DoxyCodeLine{99             \textcolor{comment}{\# print(key)}}
\DoxyCodeLine{100             ax.plot(gc\_r[key], gc\_z[key], **line\_properties)}
\DoxyCodeLine{101     \textcolor{keywordflow}{elif} projection == \textcolor{stringliteral}{'toroidal'}:}
\DoxyCodeLine{102         print(\textcolor{stringliteral}{'Sorry, this option is not jet implemented. Talk to Jose Rueda'})}
\DoxyCodeLine{103     \textcolor{keywordflow}{else}:}
\DoxyCodeLine{104         print(\textcolor{stringliteral}{'Not recognised argument'})}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{keywordflow}{return}}

\end{DoxyCode}
