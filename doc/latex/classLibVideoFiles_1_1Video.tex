\hypertarget{classLibVideoFiles_1_1Video}{}\doxysection{Lib\+Video\+Files.\+Video Class Reference}
\label{classLibVideoFiles_1_1Video}\index{LibVideoFiles.Video@{LibVideoFiles.Video}}


Class with the information of the recorded video.  


\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classLibVideoFiles_1_1Video_a47bd073843912b9b4f913fb5811fc1ec}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, str \mbox{\hyperlink{classLibVideoFiles_1_1Video_a193f5c74da71f7fb4a54a521707e2985}{file}})
\begin{DoxyCompactList}\small\item\em Initialise the class. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{classLibVideoFiles_1_1Video_aebca3b312d222118bd74fcbe750b6cf6}{read\+\_\+frame}} (self, frames\+\_\+number=None, bool limitation=True, int limit=2048)
\begin{DoxyCompactList}\small\item\em Call the read\+\_\+frame function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_af0270d5f8fde4d71083f4ccba2f712bb}{file\+\_\+name}}
\begin{DoxyCompactList}\small\item\em Path to the file and filename. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_a193f5c74da71f7fb4a54a521707e2985}{file}}
\begin{DoxyCompactList}\small\item\em Name of the file (full path) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_a68d5de5ab26a20e134456aa98d8bde4b}{header}}
\begin{DoxyCompactList}\small\item\em Header dictionary with the file info. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_a1511ea8407dfcbd80263dfa212ad8b13}{settings}}
\begin{DoxyCompactList}\small\item\em Settings dictionary. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_a3c0d3ad688d04d4e2c66c62ec095bd40}{imageheader}}
\begin{DoxyCompactList}\small\item\em Image Header dictionary. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_a17ceadea965963a13cc92c76064068b2}{timebase}}
\begin{DoxyCompactList}\small\item\em Time array. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_a14b5eca2bf59111da10f2e0b5b36175f}{type\+\_\+of\+\_\+file}}
\item 
\mbox{\hyperlink{classLibVideoFiles_1_1Video_a5fbd0c12a77b91a7b6e8e05919ab6142}{path}}
\begin{DoxyCompactList}\small\item\em path to the file \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class with the information of the recorded video. 

The header, image header, settings and time base will be stored here, the frames itself not, we can not work with 100Gb of data in memory!!! 

Definition at line 1094 of file Lib\+Video\+Files.\+py.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a47bd073843912b9b4f913fb5811fc1ec}\label{classLibVideoFiles_1_1Video_a47bd073843912b9b4f913fb5811fc1ec}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def Lib\+Video\+Files.\+Video.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{file }\end{DoxyParamCaption})}



Initialise the class. 


\begin{DoxyParams}{Parameters}
{\em file} & For the initialization, file (full path) to be loaded), if the path point to a .cin file, the .cin file will be loaded. If the path points to a folder, the prgram will look for png files or tiff files inside \\
\hline
\end{DoxyParams}


Definition at line 1102 of file Lib\+Video\+Files.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{1102     \textcolor{keyword}{def }\_\_init\_\_(self, file: str):}
\DoxyCodeLine{1103         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{1104 \textcolor{stringliteral}{        Initialise the class}}
\DoxyCodeLine{1105 \textcolor{stringliteral}{}}
\DoxyCodeLine{1106 \textcolor{stringliteral}{        @param file: For the initialization, file (full path) to be loaded),}}
\DoxyCodeLine{1107 \textcolor{stringliteral}{        if the path point to a .cin file, the .cin file will be loaded. If}}
\DoxyCodeLine{1108 \textcolor{stringliteral}{        the path points to a folder, the prgram will look for png files or}}
\DoxyCodeLine{1109 \textcolor{stringliteral}{        tiff files inside}}
\DoxyCodeLine{1110 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{1111         \textcolor{keywordflow}{if} os.path.isfile(file):}
\DoxyCodeLine{1112             }
\DoxyCodeLine{1113             self.path, self.file\_name = os.path.split(file)}
\DoxyCodeLine{1114             }
\DoxyCodeLine{1115             self.file = file}
\DoxyCodeLine{1116 }
\DoxyCodeLine{1117             \textcolor{comment}{\# Check if the file is actually a .cin file}}
\DoxyCodeLine{1118             \textcolor{keywordflow}{if} file[-\/4:] == \textcolor{stringliteral}{'.cin'} \textcolor{keywordflow}{or} file[-\/5:] == \textcolor{stringliteral}{'.cine'}:}
\DoxyCodeLine{1119                 }
\DoxyCodeLine{1120                 self.header = \mbox{\hyperlink{namespaceLibVideoFiles_a6533b3ba45e104ac6a2a1f3bd0f268f6}{read\_header}}(file)}
\DoxyCodeLine{1121                 }
\DoxyCodeLine{1122                 self.settings = \mbox{\hyperlink{namespaceLibVideoFiles_a2d425d35b0bed831afe1c9f7d5cef2fc}{read\_settings}}(file, self.header[\textcolor{stringliteral}{'OffSetup'}])}
\DoxyCodeLine{1123                 }
\DoxyCodeLine{1124                 self.imageheader = \mbox{\hyperlink{namespaceLibVideoFiles_a8d768ea4b8378a2451183683b24e2825}{read\_image\_header}}(file, self.header[}
\DoxyCodeLine{1125                     \textcolor{stringliteral}{'OffImageHeader'}])}
\DoxyCodeLine{1126                 }
\DoxyCodeLine{1127                 self.timebase = \mbox{\hyperlink{namespaceLibVideoFiles_a3d2a9c8cc4d0a146bebb680d9d4b6be5}{read\_time\_base}}(file, self.header, self.settings)}
\DoxyCodeLine{1128                 self.type\_of\_file = \textcolor{stringliteral}{'.cin'}}
\DoxyCodeLine{1129         \textcolor{keywordflow}{elif} os.path.isdir(file):}
\DoxyCodeLine{1130             }
\DoxyCodeLine{1131             self.path = file}
\DoxyCodeLine{1132             \textcolor{comment}{\# Do a quick run for the folder looking of .tiff or .png files}}
\DoxyCodeLine{1133             f = []}
\DoxyCodeLine{1134             \textcolor{keywordflow}{for} (dirpath, dirnames, filenames) \textcolor{keywordflow}{in} os.walk(self.path):}
\DoxyCodeLine{1135                 f.extend(filenames)}
\DoxyCodeLine{1136                 \textcolor{keywordflow}{break}}
\DoxyCodeLine{1137 }
\DoxyCodeLine{1138             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(f)):}
\DoxyCodeLine{1139                 \textcolor{keywordflow}{if} f[i][-\/4:] == \textcolor{stringliteral}{'.png'}:}
\DoxyCodeLine{1140                     self.type\_of\_file = \textcolor{stringliteral}{'.png'}}
\DoxyCodeLine{1141                     print(\textcolor{stringliteral}{'Found PNG files!'})}
\DoxyCodeLine{1142                     \textcolor{keywordflow}{break}}
\DoxyCodeLine{1143                 \textcolor{keywordflow}{elif} f[i][-\/4:] == \textcolor{stringliteral}{'.tif'}:}
\DoxyCodeLine{1144                     self.type\_of\_file = \textcolor{stringliteral}{'.tif'}}
\DoxyCodeLine{1145             \textcolor{comment}{\# if we do not have .png or tiff, give an error}}
\DoxyCodeLine{1146             \textcolor{keywordflow}{if} self.type\_of\_file != \textcolor{stringliteral}{'.png'} \textcolor{keywordflow}{and} self.type\_of\_file != \textcolor{stringliteral}{'.tiff'}:}
\DoxyCodeLine{1147                 print(\textcolor{stringliteral}{'No .pgn or .tiff files found'})}
\DoxyCodeLine{1148                 \textcolor{keywordflow}{return}}
\DoxyCodeLine{1149 }
\DoxyCodeLine{1150             \textcolor{comment}{\# If we have a .png file, a .txt must be present with the}}
\DoxyCodeLine{1151             \textcolor{comment}{\# information of the exposure time and from a basic frame we can}}
\DoxyCodeLine{1152             \textcolor{comment}{\# load the file size}}
\DoxyCodeLine{1153             \textcolor{keywordflow}{if} self.type\_of\_file == \textcolor{stringliteral}{'.png'}:}
\DoxyCodeLine{1154                 self.header, self.imageheader, self.settings,\(\backslash\)}
\DoxyCodeLine{1155                     self.timebase = \mbox{\hyperlink{namespaceLibVideoFiles_a4d1b5730e7175448348a5786c5805ce9}{read\_data\_png}}(self.path)}
\DoxyCodeLine{1156 }

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classLibVideoFiles_1_1Video_aebca3b312d222118bd74fcbe750b6cf6}\label{classLibVideoFiles_1_1Video_aebca3b312d222118bd74fcbe750b6cf6}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!read\_frame@{read\_frame}}
\index{read\_frame@{read\_frame}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{read\_frame()}{read\_frame()}}
{\footnotesize\ttfamily def Lib\+Video\+Files.\+Video.\+read\+\_\+frame (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{frames\+\_\+number = {\ttfamily None},  }\item[{bool }]{limitation = {\ttfamily True},  }\item[{int }]{limit = {\ttfamily 2048} }\end{DoxyParamCaption})}



Call the read\+\_\+frame function. 

Just a wrapper to call the read\+\_\+frame function, depending of the format in which the experimental data has been recorded


\begin{DoxyParams}{Parameters}
{\em frames\+\_\+number} & np array with the frame numbers to load \\
\hline
{\em limitation} & maximum size allowed to the output variable, in Mbytes, to avoid overloading the memory trying to load the whole video of 100 Gb \\
\hline
{\em limit} & bool flag to decide if we apply the limitation of we operate in mode\+: YOLO \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
M\+: 3D numpy array with the frames M\mbox{[}px,py,nframes\mbox{]} 
\end{DoxyReturn}


Definition at line 1157 of file Lib\+Video\+Files.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{1158                    limit: int = 2048):}
\DoxyCodeLine{1159         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{1160 \textcolor{stringliteral}{        Call the read\_frame function}}
\DoxyCodeLine{1161 \textcolor{stringliteral}{}}
\DoxyCodeLine{1162 \textcolor{stringliteral}{        Just a wrapper to call the read\_frame function, depending of the}}
\DoxyCodeLine{1163 \textcolor{stringliteral}{        format in which the experimental data has been recorded}}
\DoxyCodeLine{1164 \textcolor{stringliteral}{}}
\DoxyCodeLine{1165 \textcolor{stringliteral}{        @param frames\_number: np array with the frame numbers to load}}
\DoxyCodeLine{1166 \textcolor{stringliteral}{        @param limitation: maximum size allowed to the output variable,}}
\DoxyCodeLine{1167 \textcolor{stringliteral}{        in Mbytes, to avoid overloading the memory trying to load the whole}}
\DoxyCodeLine{1168 \textcolor{stringliteral}{        video of 100 Gb}}
\DoxyCodeLine{1169 \textcolor{stringliteral}{        @param limit: bool flag to decide if we apply the limitation of we}}
\DoxyCodeLine{1170 \textcolor{stringliteral}{        operate in mode: YOLO}}
\DoxyCodeLine{1171 \textcolor{stringliteral}{        @return M: 3D numpy array with the frames M[px,py,nframes]}}
\DoxyCodeLine{1172 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{1173         \textcolor{keywordflow}{if} self.type\_of\_file == \textcolor{stringliteral}{'.cin'}:}
\DoxyCodeLine{1174             M = \mbox{\hyperlink{namespaceLibVideoFiles_ae9d68cb35ba160e0324a61a8eee7eaf1}{read\_frame\_cin}}(self, frames\_number, limitation=limitation,}
\DoxyCodeLine{1175                                limit=limit)}
\DoxyCodeLine{1176         \textcolor{keywordflow}{elif} self.type\_of\_file == \textcolor{stringliteral}{'.png'}:}
\DoxyCodeLine{1177             M = \mbox{\hyperlink{namespaceLibVideoFiles_a7697be88cfc522cd6dd644f47ddfcb44}{read\_frame\_png}}(self, frames\_number, limitation=limitation,}
\DoxyCodeLine{1178                                limit=limit)}
\DoxyCodeLine{1179         \textcolor{keywordflow}{return} M}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a193f5c74da71f7fb4a54a521707e2985}\label{classLibVideoFiles_1_1Video_a193f5c74da71f7fb4a54a521707e2985}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!file@{file}}
\index{file@{file}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{file}{file}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+file}



Name of the file (full path) 



Definition at line 1115 of file Lib\+Video\+Files.\+py.

\mbox{\Hypertarget{classLibVideoFiles_1_1Video_af0270d5f8fde4d71083f4ccba2f712bb}\label{classLibVideoFiles_1_1Video_af0270d5f8fde4d71083f4ccba2f712bb}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!file\_name@{file\_name}}
\index{file\_name@{file\_name}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{file\_name}{file\_name}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+file\+\_\+name}



Path to the file and filename. 



Definition at line 1113 of file Lib\+Video\+Files.\+py.

\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a68d5de5ab26a20e134456aa98d8bde4b}\label{classLibVideoFiles_1_1Video_a68d5de5ab26a20e134456aa98d8bde4b}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!header@{header}}
\index{header@{header}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{header}{header}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+header}



Header dictionary with the file info. 



Definition at line 1120 of file Lib\+Video\+Files.\+py.

\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a3c0d3ad688d04d4e2c66c62ec095bd40}\label{classLibVideoFiles_1_1Video_a3c0d3ad688d04d4e2c66c62ec095bd40}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!imageheader@{imageheader}}
\index{imageheader@{imageheader}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{imageheader}{imageheader}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+imageheader}



Image Header dictionary. 



Definition at line 1124 of file Lib\+Video\+Files.\+py.

\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a5fbd0c12a77b91a7b6e8e05919ab6142}\label{classLibVideoFiles_1_1Video_a5fbd0c12a77b91a7b6e8e05919ab6142}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!path@{path}}
\index{path@{path}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{path}{path}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+path}



path to the file 



Definition at line 1131 of file Lib\+Video\+Files.\+py.

\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a1511ea8407dfcbd80263dfa212ad8b13}\label{classLibVideoFiles_1_1Video_a1511ea8407dfcbd80263dfa212ad8b13}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!settings@{settings}}
\index{settings@{settings}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{settings}{settings}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+settings}



Settings dictionary. 



Definition at line 1122 of file Lib\+Video\+Files.\+py.

\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a17ceadea965963a13cc92c76064068b2}\label{classLibVideoFiles_1_1Video_a17ceadea965963a13cc92c76064068b2}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!timebase@{timebase}}
\index{timebase@{timebase}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{timebase}{timebase}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+timebase}



Time array. 



Definition at line 1127 of file Lib\+Video\+Files.\+py.

\mbox{\Hypertarget{classLibVideoFiles_1_1Video_a14b5eca2bf59111da10f2e0b5b36175f}\label{classLibVideoFiles_1_1Video_a14b5eca2bf59111da10f2e0b5b36175f}} 
\index{LibVideoFiles.Video@{LibVideoFiles.Video}!type\_of\_file@{type\_of\_file}}
\index{type\_of\_file@{type\_of\_file}!LibVideoFiles.Video@{LibVideoFiles.Video}}
\doxysubsubsection{\texorpdfstring{type\_of\_file}{type\_of\_file}}
{\footnotesize\ttfamily Lib\+Video\+Files.\+Video.\+type\+\_\+of\+\_\+file}



Definition at line 1128 of file Lib\+Video\+Files.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Lib/\mbox{\hyperlink{LibVideoFiles_8py}{Lib\+Video\+Files.\+py}}\end{DoxyCompactItemize}
